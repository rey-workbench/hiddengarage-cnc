@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --ribbon-height: 0px;
  }

  * {
    @apply box-border;
  }

  html,
  body {
    @apply h-full m-0 overflow-hidden;
  }

  body {
    @apply bg-dark-950 text-gray-200;
    font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"><defs><radialGradient id="c1"><stop offset="0%25" style="stop-color:%2360a5fa;stop-opacity:1"/><stop offset="100%25" style="stop-color:%233b82f6;stop-opacity:1"/></radialGradient></defs><path d="M2 2 L2 14 L8 9 L2 2 Z" fill="%23f1f5f9" stroke="%233b82f6" stroke-width="0.8"/><path d="M3 3.5 L3 12 L7 8.5 Z" fill="url(%23c1)" opacity="0.4"/></svg>') 2 2, auto;
    /* Smooth zoom transition for UI scaling */
    transition: zoom 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer components {
  .btn {
    @apply px-3.5 py-2 rounded-lg font-medium text-sm transition-all duration-200;
    @apply bg-gradient-to-br from-dark-800 to-dark-900 border border-dark-600;
    @apply hover:from-dark-700 hover:to-dark-800 hover:border-dark-500;
    @apply hover:-translate-y-0.5 hover:shadow-lg;
    @apply active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed;
    @apply disabled:transform-none;
  }

  .btn-primary {
    @apply bg-gradient-to-br from-primary-500 to-primary-600 border-primary-700;
    @apply hover:from-primary-400 hover:to-primary-500 hover:border-primary-600;
  }

  .btn-success {
    @apply bg-gradient-to-br from-green-500 to-green-600 border-green-700;
    @apply hover:from-green-400 hover:to-green-500 hover:border-green-600;
  }

  .btn-warning {
    @apply bg-gradient-to-br from-amber-500 to-amber-600 border-amber-700;
    @apply hover:from-amber-400 hover:to-amber-500 hover:border-amber-600;
  }

  .btn-danger {
    @apply bg-gradient-to-br from-red-500 to-red-600 border-red-700;
    @apply hover:from-red-400 hover:to-red-500 hover:border-red-600;
  }

  .panel {
    @apply bg-dark-900/95 backdrop-blur-md rounded-xl border border-dark-700/50;
    @apply shadow-2xl;
  }

  .panel-desktop {
    background: linear-gradient(to bottom right, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.95), rgba(8, 11, 22, 0.98));
    @apply backdrop-blur-xl rounded-xl border;
    border-color: rgba(51, 65, 85, 0.7);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    @apply transition-shadow duration-200;
    position: relative;
  }

  .panel-desktop:hover {
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .panel-desktop.dragging {
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
    border-color: rgba(59, 130, 246, 0.6);
    transform: scale(1.01);
  }

  .panel-desktop.resizing {
    border-color: rgba(59, 130, 246, 0.6);
    transition: none;
  }

  .panel-header {
    @apply flex items-center justify-between p-2.5;
    background: linear-gradient(to right, rgba(30, 41, 59, 0.8), rgba(30, 41, 59, 0.6), rgba(30, 41, 59, 0.8));
    border-bottom: 1px solid rgba(51, 65, 85, 0.7);
    @apply rounded-t-xl backdrop-blur-sm;
  }

  .panel-header-btn {
    @apply w-6 h-6 flex items-center justify-center rounded-lg;
    background-color: rgba(51, 65, 85, 0.4);
    border: 1px solid rgba(51, 65, 85, 0.5);
    @apply text-dark-300 hover:text-gray-100;
    @apply transition-all duration-200 hover:scale-105;
  }

  .panel-header-btn:hover {
    background-color: rgba(71, 85, 105, 0.6);
  }

  .panel-content {
    @apply overflow-y-auto overflow-x-hidden p-3;
    @apply scrollbar-thin;
  }

  .resize-handle {
    @apply absolute bg-transparent transition-all duration-200;
  }

  .resize-handle:hover {
    @apply bg-primary-500/20;
  }

  .resize-handle-e {
    @apply right-0 top-0 w-1 h-full cursor-ew-resize;
  }

  .resize-handle-s {
    @apply bottom-0 left-0 w-full h-1 cursor-ns-resize;
  }

  .resize-handle-se {
    @apply right-0 bottom-0 w-4 h-4 cursor-nwse-resize;
    @apply rounded-tl-full;
  }

  .resize-handle-se::after {
    content: '';
    @apply absolute bottom-0.5 right-0.5 w-3 h-3;
    @apply border-r-2 border-b-2;
    border-color: rgba(71, 85, 105, 0.5);
    @apply rounded-br;
  }

  /* Ribbon Navbar Styles - Enhanced */
  .ribbon-navbar {
    @apply fixed top-0 left-0 right-0;
    z-index: 40;
    background: linear-gradient(to bottom, 
      rgba(15, 23, 42, 0.98), 
      rgba(15, 23, 42, 0.96),
      rgba(8, 11, 22, 0.98)
    );
    @apply backdrop-blur-2xl;
    border-bottom: 1px solid rgba(59, 130, 246, 0.15);
    box-shadow: 
      0 4px 24px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(59, 130, 246, 0.05) inset,
      0 1px 0 0 rgba(255, 255, 255, 0.03) inset;
    position: relative;
  }

  .ribbon-titlebar {
    @apply flex items-center justify-between px-4 py-1.5;
    background: linear-gradient(135deg, 
      rgba(30, 41, 59, 0.7), 
      rgba(15, 23, 42, 0.85),
      rgba(30, 41, 59, 0.7)
    );
    border-bottom: 1px solid rgba(51, 65, 85, 0.4);
    position: relative;
  }

  .ribbon-titlebar::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(to right, 
      transparent, 
      rgba(59, 130, 246, 0.2) 20%,
      rgba(59, 130, 246, 0.2) 80%,
      transparent
    );
  }

  .ribbon-collapse-btn {
    @apply w-8 h-8 flex items-center justify-center rounded-lg;
    background: linear-gradient(135deg, 
      rgba(51, 65, 85, 0.5), 
      rgba(51, 65, 85, 0.3)
    );
    border: 1px solid rgba(71, 85, 105, 0.4);
    @apply text-dark-300 hover:text-gray-100;
    @apply transition-all duration-300;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }

  .ribbon-collapse-btn:hover {
    background: linear-gradient(135deg, 
      rgba(71, 85, 105, 0.7), 
      rgba(71, 85, 105, 0.5)
    );
    border-color: rgba(59, 130, 246, 0.4);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
  }

  .ribbon-collapse-btn:active {
    transform: translateY(0);
  }

  .ribbon-tabs {
    @apply flex items-center gap-0.5 px-3 py-0.5;
    background: linear-gradient(to bottom, 
      rgba(30, 41, 59, 0.5), 
      rgba(15, 23, 42, 0.7)
    );
    position: relative;
  }

  .ribbon-tabs::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(to right,
      transparent,
      rgba(255, 255, 255, 0.03) 30%,
      rgba(255, 255, 255, 0.03) 70%,
      transparent
    );
  }

  .ribbon-tab {
    @apply flex items-center gap-1.5 px-3 py-1.5;
    @apply text-xs text-dark-300;
    @apply transition-all duration-300;
    @apply no-underline relative;
    background: transparent;
    border-radius: 6px 6px 0 0;
    position: relative;
    will-change: transform, background-color, color;
  }

  .ribbon-tab::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 8px 8px 0 0;
    background: transparent;
    transition: all 0.3s ease;
    z-index: -1;
  }

  .ribbon-tab:hover::before {
    background: linear-gradient(to bottom,
      rgba(51, 65, 85, 0.4),
      rgba(51, 65, 85, 0.2)
    );
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
  }

  .ribbon-tab:hover {
    @apply text-gray-100;
    transform: translateY(-1px);
  }

  .ribbon-tab.active {
    @apply text-primary-300;
  }

  .ribbon-tab.active::before {
    background: linear-gradient(to bottom,
      rgba(59, 130, 246, 0.12),
      rgba(59, 130, 246, 0.08)
    );
    box-shadow: 
      0 -2px 12px rgba(59, 130, 246, 0.15),
      0 0 0 1px rgba(59, 130, 246, 0.2) inset;
  }

  .ribbon-tab.active:hover {
    transform: translateY(-2px);
  }

  .ribbon-content-dropdown {
    @apply absolute;
    top: 100%;
    z-index: 45;
    margin-top: 0;
    animation: ribbonSlideDown 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    will-change: transform, opacity;
    contain: layout style paint;
  }

  .ribbon-content-dropdown-inner {
    @apply mt-3 px-6 py-5;
    width: 500px;
    max-height: 70vh;
    @apply overflow-y-auto scrollbar-thin;
    background: linear-gradient(to bottom, 
      rgba(15, 23, 42, 0.98), 
      rgba(15, 23, 42, 0.96),
      rgba(8, 11, 22, 0.98)
    );
    @apply backdrop-blur-2xl rounded-xl;
    border: 1px solid rgba(59, 130, 246, 0.15);
    box-shadow: 
      0 12px 48px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(59, 130, 246, 0.08) inset,
      0 2px 0 0 rgba(255, 255, 255, 0.03) inset;
    position: relative;
  }

  .ribbon-content-dropdown-inner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 80px;
    background: radial-gradient(ellipse at top, 
      rgba(59, 130, 246, 0.08) 0%, 
      transparent 60%
    );
    pointer-events: none;
  }

  .ribbon-tab-content {
    @apply space-y-4 p-4;
  }

  @keyframes ribbonSlideDown {
    from {
      opacity: 0;
      transform: translateY(-12px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(100px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .notification-toast {
    @apply px-4 py-3 rounded-lg border backdrop-blur-md;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  .ribbon-group {
    @apply inline-flex flex-col gap-2 px-4 py-2;
    border-right: 1px solid rgba(51, 65, 85, 0.3);
  }

  .ribbon-group:last-child {
    border-right: none;
  }

  .ribbon-group-label {
    @apply text-[10px] text-dark-400 uppercase tracking-wider;
    @apply font-semibold text-center;
  }

  .ribbon-group-content {
    @apply flex items-center gap-2;
  }

  .input-base {
    @apply bg-dark-900/60 border border-dark-600 text-gray-100;
    @apply px-3 py-1.5 rounded-lg text-sm;
    @apply focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20;
    @apply transition-all duration-200;
  }

  .textarea-base {
    @apply input-base font-mono text-xs leading-relaxed resize-y;
  }
}

@layer utilities {
  /* Custom Cursor Styles - Clean & Professional */
  a, button, .cursor-pointer, [role="button"] {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M2 2 L2 15 L9 9.5 L2 2 Z" fill="%23f1f5f9" stroke="%233b82f6" stroke-width="1"/><path d="M3 3.5 L3 13 L8 9 Z" fill="%2360a5fa" opacity="0.5"/></svg>') 2 2, pointer !important;
  }

  input[type="text"], input[type="number"], input[type="range"], textarea, select {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M2 2 L2 14 L8 9 L2 2 Z" fill="%23f1f5f9" stroke="%2310b981" stroke-width="0.8"/><path d="M3 3.5 L3 12 L7 8.5 Z" fill="%2334d399" opacity="0.4"/></svg>') 2 2, text !important;
  }

  .panel-header, [style*="cursor: grab"] {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M2 2 L2 15 L9 9.5 L2 2 Z" fill="%23f1f5f9" stroke="%23f59e0b" stroke-width="1"/><path d="M3 3.5 L3 13 L8 9 Z" fill="%23fbbf24" opacity="0.5"/></svg>') 2 2, grab !important;
  }

  .panel-header:active, [style*="cursor: grabbing"] {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M2 2 L2 15 L9 9.5 L2 2 Z" fill="%23f1f5f9" stroke="%23d97706" stroke-width="1.2"/><path d="M3 3.5 L3 13 L8 9 Z" fill="%23f59e0b" opacity="0.6"/></svg>') 2 2, grabbing !important;
  }

  .resize-handle {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M2 2 L2 15 L9 9.5 L2 2 Z" fill="%23f1f5f9" stroke="%236366f1" stroke-width="1"/><path d="M3 3.5 L3 13 L8 9 Z" fill="%238b5cf6" opacity="0.5"/></svg>') 2 2, nwse-resize !important;
  }

  .scrollbar-thin::-webkit-scrollbar {
    @apply w-1.5;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-dark-600 rounded-full;
    @apply hover:bg-dark-500 transition-colors duration-200;
  }

  .animate-spin-slow {
    animation: spin 2s linear infinite;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes dialogSlideIn {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}
